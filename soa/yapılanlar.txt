Base URL: http://localhost:5000

ğŸ” Yetkilendirme (Auth) Bilgisi
Kilitli Endpointler: Ä°lan Ekleme, GÃ¼ncelleme, Silme ve Fiyat Tahmini.

Header: Kilitli endpointlere istek atarken Header kÄ±smÄ±na ÅŸu eklenmelidir: Authorization: Bearer <access_token> (Token, Login iÅŸleminden sonra alÄ±nÄ±r.)

1. KullanÄ±cÄ± Ä°ÅŸlemleri (Auth)
A. KayÄ±t Ol (Register)
Yeni kullanÄ±cÄ± oluÅŸturur.

URL: /api/register

Method: POST

Request Body:

JSON

{
  "first_name": "deneme",
  "last_name": "test",
  "email": "deneme@mail.com",
  "password": "sifre123",
  "phone": "05551112233"  // Opsiyonel
}
Response (201 Created):

JSON

{
  "status": "success",
  "message": "KullanÄ±cÄ± baÅŸarÄ±yla oluÅŸturuldu."
}
B. GiriÅŸ Yap (Login)
Sisteme giriÅŸ yapar ve iÅŸlem yapmak iÃ§in gerekli Token'Ä± verir.

URL: /api/login

Method: POST

Request Body:

JSON

{
  "email": "deneme@mail.com",
  "password": "sifre123"
}
Response (200 OK):

JSON

{
  "status": "success",
  "data": {
    "access_token": "eyJhbGciOiJIUzI1NiIs...", 
    "token_type": "bearer",
    "user_name": "Denem KullanÄ±cÄ±"
  }
}
2. Ä°lan Ä°ÅŸlemleri (Listings)
A. TÃ¼m Ä°lanlarÄ± Getir
VeritabanÄ±ndaki kayÄ±tlÄ± tÃ¼m evleri listeler.

URL: /api/listings

Method: GET

Response (200 OK):

JSON

{
  "status": "success",
  "data": [
    {
      "id": "656ae...",
      "title": "Buca Åirinyer'de Metroya YakÄ±n 3+1",
      "price": 3500000,
      "currency": "TRY",
      "status": "active",
      "location_details": {
         "street_name": "Menderes Cad.",
         "site_name": "GÃ¼neÅŸ Apt."
      },
      "property_specs": {
         "room_count": "3+1",
         "gross_m2": 135,
         "net_m2": 120,
         "heating": "Kombi"
      },
      "created_at": "2025-12-03T14:30:00"
    },
    // ... diÄŸer ilanlar
  ]
}
B. Ä°lan Detay GÃ¶rÃ¼ntÃ¼leme
Tek bir ilanÄ±n tÃ¼m detaylarÄ±nÄ± getirir.

URL: /api/listings/:id (Ã–rn: /api/listings/656ae...)

Method: GET

Response (200 OK):

JSON

{
  "status": "success",
  "data": {
      "id": "656ae...",
      "title": "Buca Åirinyer'de Metroya YakÄ±n 3+1",
      "description": "DetaylÄ± aÃ§Ä±klama metni buraya...",
      "price": 3500000,
      "tags": ["Krediye Uygun", "Balkonlu"],
      "property_specs": { ... },
      "location_details": { ... },
      "user": "6512b..." // Ä°lanÄ± ekleyen kullanÄ±cÄ±nÄ±n ID'si
  }
}
C. Yeni Ä°lan Ekleme (ğŸ”’ Login Gerekli)
URL: /api/listings

Method: POST

Headers: Authorization: Bearer <token>

Request Body:

JSON

{
  "title": "Dokuz Ã‡eÅŸmeler MeydanÄ±nda FÄ±rsat Daire",
  "description": "Acil satÄ±lÄ±k, masrafsÄ±z...",
  "price": 2750000,
  "location": "Buca Merkez", 
  "property_specs": {
    "room_count": "2+1",
    "net_m2": 95,
    "gross_m2": 110,
    "floor": 2,
    "heating": "Klima"
  },
  "location_details": {
     "street_name": "Hoca Ahmet Yesevi Cad.",
     "coordinates": { "lat": 38.38, "lon": 27.17 }
  },
  "tags": ["FÄ±rsat", "Acil"]
}
Response (201 Created):

JSON

{
  "status": "success",
  "message": "Ä°lan baÅŸarÄ±yla oluÅŸturuldu.",
  "data": {
    "id": "656bf..." // Yeni oluÅŸan ilanÄ±n ID'si
  }
}
D. Ä°lan GÃ¼ncelleme (ğŸ”’ Login Gerekli)
Ä°lanÄ±n sadece deÄŸiÅŸen kÄ±sÄ±mlarÄ±nÄ± gÃ¼nceller.

URL: /api/listings/:id

Method: PUT

Headers: Authorization: Bearer <token>

Request Body: (Sadece deÄŸiÅŸecek alanlar gÃ¶nderilebilir)

JSON

{
  "price": 2650000,
  "description": "Fiyat dÃ¼ÅŸtÃ¼! Acil satÄ±lÄ±k..."
}
Response (200 OK):

JSON

{
  "status": "success",
  "message": "Ä°lan bilgileri gÃ¼ncellendi.",
  "data": { ...gÃ¼ncel ilan verisi... }
}
E. Ä°lan Silme (ğŸ”’ Login Gerekli)
URL: /api/listings/:id

Method: DELETE

Headers: Authorization: Bearer <token>

Response (200 OK):

JSON

{
  "status": "success",
  "message": "Ä°lan silindi."
}
3. Yapay Zeka Tahmin (ML Integration)
A. Fiyat Tahmini Al (Predict)
Ev Ã¶zelliklerini Python servisine gÃ¶nderir ve tahmini fiyatÄ± dÃ¶ner.

URL: /api/predict

Method: POST

Request Body: (Python ML modelinin beklediÄŸi Ã¶zellikler)

JSON

{
  "room_count": 3,
  "net_area": 120,
  "floor": 2,
  "location_score": 8,
  "building_age": 10
}
Response (200 OK):

JSON

{
  "status": "success",
  "data": {
      "predicted_price": 3450000,
      "currency": "TRY",
      "confidence_score": 0.92
  }
}
(Not: Response iÃ§indeki data kÄ±smÄ± Python servisinden ne dÃ¶nerse aynen onu yansÄ±tÄ±r.)
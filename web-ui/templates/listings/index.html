{% extends "base.html" %}

{% block content %}
<div class="container py-5">

    <div class="row mb-5 align-items-end">
        <div class="col-md-8">
            <h6 class="text-primary fw-bold text-uppercase ls-1">Keşfet</h6>
            <h1 class="fw-bold display-5 text-white">Buca Satılık İlanlar</h1>
            <p class="text-muted mt-2" style="max-width: 500px;">
                Yapay zeka destekli analizlerle bölgedeki en doğru fiyatlı ilanları sizin için listeliyoruz.
            </p>
        </div>
        <div class="col-md-4 text-md-end mt-3 mt-md-0">
            <a href="/listings/create" class="btn btn-primary">
                <i class="bi bi-plus-lg me-2"></i> Yeni İlan Ekle
            </a>
        </div>
    </div>

    <div class="row g-4">
        {% for listing in listings %}
        <div class="col-md-4 col-sm-6">
            <div class="card h-100 shadow-sm border-0 listing-card overflow-hidden">
                <div class="position-relative">
                    <img src="https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?auto=format&fit=crop&w=600&q=80" class="card-img-top" alt="Ev Görseli" style="height: 220px; object-fit: cover;">
                    <div class="position-absolute top-0 end-0 m-3">
                        <span class="badge bg-dark bg-opacity-75 backdrop-blur">Satılık</span>
                    </div>
                </div>

                <div class="card-body p-4">
                    <h5 class="fw-bold text-primary mb-1">{{ listing.price }} ₺</h5>
                    <h6 class="fw-bold text-white mb-3 text-truncate">{{ listing.title }}</h6>

                    <p class="small text-muted mb-3">
                        <i class="bi bi-geo-alt-fill me-1 text-primary"></i> {{ listing.location }}
                    </p>

                    <div class="d-flex justify-content-between pt-3 border-top border-secondary border-opacity-25">
                        <span class="small text-muted"><i class="bi bi-door-open me-1"></i> {{ listing.rooms }}</span>
                        <span class="small text-muted"><i class="bi bi-rulers me-1"></i> {{ listing.area }}m²</span>
                        <span class="small text-muted"><i class="bi bi-layers me-1"></i> {{ listing.floor }}. Kat</span>
                    </div>
                </div>
            </div>
        </div>
        {% else %}
        <div class="col-12 text-center py-5">
            <i class="bi bi-inbox display-1 text-muted opacity-25"></i>
            <p class="mt-3 text-muted">Henüz yayınlanmış bir ilan bulunmuyor.</p>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}